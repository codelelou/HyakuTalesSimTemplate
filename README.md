# 概要
ウォーキングシミュレーターゲームのテンプレートです（Unreal Engine 5プロジェクトファイル）。  

サンプルプログラムは百物語カウンターとなっており、FPS視点で3D空間内の100本の蝋燭を歩いて消します。  
メインメニューや環境設定、コンテニュー、ポーズメニュー、インタラクト（蝋燭を消す）、ダイアログ（会話機能）、アナログ時計サンプルプログラムなどの共通システムがあらかじめ用意されています。  

このゲームテンプレートはUnreal Engine 5でのゲーム開発初心者が3Dホラーゲームのようなものを作る際のベースとして使えるように作っています。  
ゲーム開発自体が初心者という方は、過去に公開したUnreal Engine 5プロジェクトファイルの方がより簡単かと思いますので、練習として先にお試しいただくと良いかもしれません。  

- [Text3DGuesser](https://github.com/codelelou/HyakuTales) （Unreal Engine 5のインストールと配布用ファイルの作成練習用のゲームテンプレート）
- [Findloople](https://github.com/codelelou/Findloople) （プログラミング不要で8番ライクゲームも作れるゲームテンプレート）

なお共通システム・共通プログラムは『HyakuTalesSimTemplate』のものが最新のものとなっており、かつアップデートにより互換性がなくなっているものがあります。  
もし新規でオリジナルゲームを開発する際のベースとしてこれらのテンプレートを使用される場合は、『HyakuTalesSimTemplate』の使用を推奨します。  

# デモゲーム
デモとして『[百物語シム](https://codelelou.booth.pm/items/6949715)』を公開します。  
どのような機能のゲームを作れるのかイメージしやすいと思います。  

なおゲーム開発に興味が無くても、百物語配信などでお使いいただけます（配信許可に関してはデモのリンク先に記載しています）。
百物語配信向けにオリジナル百物語カウンターの作成にご利用いただくことも大歓迎です（Unreal Engineはゲームエンジンですが、映画やアニメ、自動車メーカーなどゲーム以外でも多くの使用実績があります）。  

---

# 目次
- [導入（開発環境構築）](#導入開発環境構築)
- [フォルダ構成（プログラムなどメインのコンテンツフォルダ）](#フォルダ構成プログラムなどメインのコンテンツフォルダ)
- [パッケージ化（配布用exeファイル作成）](#パッケージ化配布用exeファイル作成)
- [よくある質問](#よくある質問)

---

# 導入（開発環境構築）
Unreal Engine 5プロジェクトファイルを編集するためにUnreal Engine（Unrealエディタ）をインストールする必要があります。  

## Unreal Engineのバージョン
Unreal Engine 5.5  

このバージョン以降のもであれば動作する可能性は高いですが、Unreal Engineのアップデートによっては正常に動作しなくなることはあります。  
このような場合はUnreal Engineのバージョンを下げる必要があります（1つの開発端末に異なる複数のバージョンのUnreal Engineをインストールできます）。  

なお、このゲームテンプレートのアップデート時に対応するUnreal Engineのバージョンが変更になることがあります（バージョンが変更になっても開発中のゲームテンプレートをアップデートしなければ従来通りに開発は継続可能です）。  

## Unreal Engineのインストール
インストールについてはUnreal Engine全般のテーマのため、詳しくは[Unreal Engineダウンロードページ](https://www.unrealengine.com/ja/download)や解説動画などを参考にしてください。  

「Unreal Engine インストール」や「Unreal Engine 入門」などのキーワードで探してみてください。  
このゲームテンプレートを編集する前に、入門者向け・初心者向けの動画などでイメージを掴んでおくのも良いと思います。  

## ゲームテンプレートをダウンロードする
GitHubページ上の緑色の［Code］ボタンを左クリックし、表示されるメニューの［Download ZIP］ボタンを左クリックします。  
案内に従ってそのZIPファイルを端末に保存してください。  

![テンプレートのダウンロードリンクの場所の図解](https://github.com/user-attachments/assets/8d907578-07b3-4d61-83eb-8d723b8d651f)

ダウンロードが完了したらそのZIPファイルをわかりやすい場所に展開（解凍）します。  
ゲーム開発ではSSDなどの高速ストレージに展開することを推奨します。  

またディレクトリ構造が深いとゲームエンジンの不具合に繋がることがあるため、浅いディレクトリ階層に展開してください（例えば「D:\UnrealProjects\HyakuTales」など）。  
あわせて親フォルダも含めてフォルダ名は半角英数字のみで構成するようにしてください（Unreal Engineに限らずゲーム開発ではフォルダ名・ファイル名に日本語があると不具合の原因になることがあります）。  

そして展開したUnreal EngineプロジェクトファイルであるHyakuTales.uproject（ファイル名は変更可能ですが、Unreal Engineの仕様により20文字以内推奨）をダブルクリックすれば、対応するUnreal Engineが起動し編集できるようになると思います。  
もし直接開けない場合は、次で説明するUnreal Engineを起動してからプロジェクトファイルを指定して開く方法を試してください。  

## Unreal Engineを起動する
起動するとプロジェクトブラウザが開くと思うので、左上の［最近使用したプロジェクト］を左クリックし、右下の［ブラウズ］ボタンを左クリックしてください（以前からUnreal Engineを使っている場合は自動的に最近開いていたプロジェクトが自動ロードされてしまっている場合があるので、その場合はそれを閉じてプロジェクトブラウザを開いてください）。  

そして先程ダウンロードして展開したゲームテンプレートのアンリアルプロジェクトファイル「HyakuTales.uproject」を開いてください。  
これでこのゲームテンプレートを編集できるようになると思います。  

## 動作確認
エディタ上でゲームをプレイするには、エディタ上部中央左付近の矢印マークが並んだエリアの右端にある点が縦に3つ並んだボタンを左クリックし、	［新規エディタウィンドウ（PIE）］ボタンを左クリックします。  

![エディタプレイ方法の図解](https://github.com/user-attachments/assets/0dd206c2-09c2-4216-88b5-b188111adc87)

なお、このプレイモードではタイトル画面や環境設定画面の表示言語の切替は正常に動作しません。  
またこのモードで言語を切り替えた場合は、エディタの表示言語も切り替わってしまうため注意してください。  

言語の切替も確認したい場合は［スタンドアロンゲーム］モードでプレイしてください（このモードは実行までに多少時間がかかります）。  

---

# フォルダ構成（プログラムなどメインのコンテンツフォルダ）
* HyakuTales … 百物語カウンターの本体
* Lelool … 共通プログラムファイルで原則変更非推奨
* Localization … 国際化ファイルで直接変更非推奨（Unreal Engine標準のローカライゼーションダッシュボードが生成するフォルダ・ファイル）
* WalkingSimTpl … ウォーキングシミュレーターゲームのテンプレート

---

# パッケージ化（配布用EXEファイル作成）
作ったゲームをパッケージ化することで、他のPCやスマートフォンなどで遊べるようになります。  
Unreal Engine 5はパソコンやスマートフォン以外にも、ゲームコンソール（Switch/PlayStation/Xboxなど）にも対応しています。  
※このテンプレートはWindows向けの動作確認しかしていません。  

どのプラットフォーム向けにパッケージ化するにしても、そのプラットフォーム向けに別途SDKのインストールなど準備が必要です。  
もしすでにUnreal Engineでゲームを開発していてパッケージ化の準備が完了しているのであれば、すぐにパッケージ化できるかと思います。  

ただパッケージ化に関してはこのゲームテンプレート固有のテーマではないため、詳しいパッケージ化の手順などについては公式ドキュメントや動画などを参考にしてください。  

「UE5 パッケージ化」などのキーワードでネットや動画を検索してみてください。  
なおUnreal Engineのバージョンや開発環境がWindowsかMacなどかによって必要なものや手順が異なることがあるため、1つの情報だけでは上手くできない可能性があります。  

もしパッケージ化が失敗する場合、まずはこのゲームテンプレートを編集せずにそのままパッケージ化を試してみても良いかもしれません。  
この時点で失敗する場合はパッケージ化の準備が不十分であると考えられますし、成功する場合はカスタマイズしたゲーム側に問題があると考えられます。  

なおパッケージ化に関しては普通にプログラミングできる人でも苦戦することは珍しくない躓きポイントですので、上手くいかなくてもあまり気にする必要はありません。  
ゲーム開発者でもパッケージ化経験がない人は少なくないでしょうし、そもそもゲームを完成することなく頓挫することも珍しくはありません。  
そのためにパッケージ化に関する情報自体が少ないです。  

## パッケージ化の手順
Windows向けのパッケージ化の準備が完了している場合、次の手順でパッケージ化可能です。  
細かい設定を行うことでパッケージ化したファイルを小さくしたり暗号化したりもできますが、ここでは割愛します。  

![パッケージ化ボタン位置の図解](https://github.com/user-attachments/assets/d977798d-4556-4759-a494-533d7c1c56c0)

エディタ上部中央の［プラットフォーム］ボタンを左クリックしてメニューを開き、［コンテンツ/SDK/デバイス管理 > Windows］を開きます。  
この時、［Windows］の前にビックリマークアイコンが表示されている場合はパッケージ化の準備が完了していないと思われます。  
そして［バイナリ コンフィギュレーション > シッピング］が有効（白い点）になっていなければ、それを左クリックして有効にしてください。  
［シッピング］が有効であれば、［コンテンツ管理 > プロジェクトをパッケージ化］を左クリックしてください。  
保存先のディレクトリを聞かれるので、パッケージ化用にわかりやすいフォルダを作って指定します。  

これでパッケージ化の処理がはじまります。  

パッケージ化時間はゲームの内容や開発端末性能（おそらくCPU性能）で大きく異なります。  
ハイスペックゲーミングPC程度の環境であれば1分程度ですが、ロースペックPC環境だと数十分以上掛かる可能性があります。  

完了後は成功しても失敗しても音で通知してくれるはずです。  

パッケージ化が成功していれば、指定したフォルダに「Windows」フォルダができていて、その中に配布用ファイル一式がまとめっていると思います。
配布する時はそのWindowsフォルダをZIP化するなどして公開すると良いでしょう（Steamなどのストアで公開する時は、ストアの指示に従ってください）。  

設定などを変更していなければ「HyakuTales.exe」をダブルクリックすればゲームが起動するはずです。  
実は恐ろしい話ですが、エディタ上では問題なく動作していても、パッケージ化すると動作しなくなることは珍しくなく、配布用のファイルでもテストプレイが必要です（ゲームエンジンそのものにもバグはありえます）。  

---

# よくある質問
このゲームテンプレートはライセンスが非常に緩いMITライセンスで公開しており、ライセンスを守ってライセンス表記さえすれば非常に自由度が高いです（このゲームテンプレートではデフォルトでゲーム内にクレジット・ライセンス表記する機能を備えているため、カスタマイズして非表示・無効化・削除していなければこのゲームテンプレートのライセンス表記はデフォルトで行えているはずです）。  
もちろん、他に併用するライブラリなどがある場合はそれらのライセンスの確認は必要です。  

## サンプルゲームをゲーム実況しても良いですか？
問題ありません。  

## このゲームテンプレートで作ったゲームを有料で販売しても良いですか？
問題ありません。  

## このゲームテンプレートで作ったゲームのソースコードは非公開でも良いですか？
問題ありません。  

## このゲームテンプレートの有料教材を作っても良いですか？
問題ありません。  

## このゲームテンプレートを有料の勉強会の教材に使っても良いですか？
問題ありません。  

## このゲームテンプレートで百物語カウンターやウォーキングシミュレーターゲーム以外を作っても良いですか？
問題ありません。  

## このゲームテンプレートの一部を別のゲームに流用しても良いですか？
問題ありません。  

## このゲームテンプレートで有償の開発代行・受注開発を行っても良いですか？
問題ありません。  

## エディタのレイアウトが変になってしまったのですが？
エディタ上部の［ウィンドウ］から［レイアウトをロード > デフォルトのエディタレイアウト］を左クリックすれば、エディタのレイアウトが初期状態に戻ります。  

![デフォルトのエディタレイアウトに戻すための項目の位置の図解](https://github.com/user-attachments/assets/d6cea8ce-18cb-4067-8066-1fbeeb3c8cec)
